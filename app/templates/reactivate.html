{% extends "base.html" %}
{% block content %}

<div class="row justify-content-center">
    <div class="col-md-6 col-lg-4 auth-card">
        <h2 class="mb-4 text-center">Reactivate Account</h2>
        {% if success %}
        <!-- Final success screen after reactivation -->
        <p class="mb-3">{{ success }}</p>
        <div class="mt-3 text-center">
            <a href="{{ url_for('auth.login') }}" class="btn btn-primary">Login to continue</a>
        </div>
        {% elif step == 'password' %}
        <!-- Step 2: password confirmation for a specific email -->
        <p class="mb-3">To reactivate the account linked to <strong>{{ email }}</strong>, enter your password.</p>

        <form method="post">
            <input type="hidden" name="email" value="{{ email }}">
            <div class="mb-3">
                <label for="password" class="form-label">Password</label>
                <div class="input-group" data-password-toggle>
                    <input type="password" class="form-control" id="password" name="password" placeholder="Enter your password" required>
                    <button class="btn btn-outline-secondary" type="button" data-toggle-eye>
                        <i class="bi bi-eye" data-eye-open></i>
                        <i class="bi bi-eye-slash d-none" data-eye-closed></i>
                    </button>
                </div>
            </div>
            <button type="submit" class="btn btn-primary w-100">Reactivate account</button>
        </form>
        {% else %}
        <!-- Step 1: email entry -->
        <p class="mb-3">Enter the email of the account you want to reactivate.</p>

        <form method="post">
            <div class="mb-3">
                <label for="email" class="form-label">Email address</label>
                <input type="email" class="form-control" id="email" name="email" placeholder="you@example.com" required>
            </div>
            <button type="submit" class="btn btn-primary w-100">Continue</button>
        </form>
        {% endif %}
    </div>
</div>

{% endblock %}
